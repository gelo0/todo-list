(()=>{"use strict";class e{constructor(e,t,n,s){this.name=e,this.discription=t,this.dueDate=n,this.priority=s}setName(e){this.name=e}getName(){return this.name}setDiscription(e){this.discription=e}getDescription(){return this.discription}setDate(e){this.dueDate=e}getDate(){return this.dueDate}setPriority(e){this.priority=e}getPriority(){return this.priority}}class t{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}addTask(e){if(!this.tasks.find((t=>t.getName()===e.name)))return this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>t.name!==e))}setTasks(e){this.tasks=e}getTasks(){return this.tasks}getTask(e){return this.tasks.find((t=>t.getName()===e))}}const n=new class{constructor(){this.projects=[],this.projects.push(new t("Inbox")),this.projects.push(new t("Today")),this.projects.push(new t("This week"))}addProject(e){this.projects.find((t=>t.name===e))||this.projects.push(new t(e))}getProject(e){return this.projects.find((t=>t.getName()===e))}deleteProject(e){const t=this.projects.find((t=>t.getName()===e));this.projects.splice(this.projects.indexOf(t),1)}},s=document.getElementById("projects"),i=document.querySelector("#tasks"),r=document.getElementById("task-title"),a=document.querySelector("#task-info"),o=document.getElementById("add-project-btn"),d=document.getElementById("add-project-text"),c=document.getElementById("add-task-btn"),l=document.getElementById("add-task-text"),m=document.getElementById("description-task-text");document.getElementById("due-date").valueAsDate=new Date;const u=document.getElementById("due-date"),p=document.getElementById("priority"),h=document.createElement("span");s.appendChild(h);const g=e=>{for(;e.hasChildNodes();)e.removeChild(e.firstChild)},k=()=>{g(s);for(let e in n.projects){let t=n.projects[e].getName(),i=document.createElement("div"),r=document.createElement("button"),a=document.createElement("button");r.setAttribute("id",t),a.setAttribute("id",t),i.className="project-list-container",r.className="project-btn",a.className="delete-project-btn",r.innerText=t,a.innerText="x",i.appendChild(r),["Inbox","This week","Today"].includes(t)||i.appendChild(a),s.appendChild(i)}const e=document.querySelectorAll(".project-btn");for(let t of e)t.addEventListener("click",j);const t=document.querySelectorAll(".delete-project-btn");for(let e of t)e.addEventListener("click",y)},j=e=>{let t=e.target.id;r.innerText=t,E(t)},y=e=>{let t=e.target.id;n.deleteProject(t),h.remove(),k()},E=e=>{g(i),g(a);let t=n.getProject(e);for(let e in t.getTasks()){let n=t.getTasks()[e].getName(),s=document.createElement("div");s.className="task-list-container";let r=document.createElement("button"),a=document.createElement("button");a.setAttribute("id",n),r.setAttribute("id",n),a.className="delete-task-button",r.className="task-btn",a.innerText="x",r.innerText=n,s.appendChild(r),s.appendChild(a),i.appendChild(s)}const s=document.querySelectorAll(".delete-task-button");for(let e of s)e.addEventListener("click",T);const r=document.querySelectorAll(".task-btn");for(let e of r)e.addEventListener("click",f)},T=e=>{let t=e.target.id;console.log(t);let s=n.getProject(r.innerText);s.deleteTask(t),E(s.getName())},f=e=>{g(a);let t=e.target.id,s=r.innerText,i=n.getProject(s).getTask(t),o=i.getDescription(),d=i.getDate().toDateString(),c=i.getPriority(),l=document.createElement("p"),m=document.createElement("p"),u=document.createElement("p"),p=document.createElement("p");l.innerText=t,m.innerText=`Description: ${o}`,u.innerText=`Due date: ${d}`,p.innerText=`Priority ${c}`,a.appendChild(l),a.appendChild(m),a.appendChild(u),a.appendChild(p),console.log(c)};k(),o.addEventListener("click",(()=>{n.addProject(d.value),h.remove(),k()})),c.addEventListener("click",(()=>{let t=new e;t.setName(l.value),t.setDiscription(m.value);let s=new Date(u.value);t.setDate(s),t.setPriority(p.value),console.log(r.innerText);let i=n.getProject(r.innerText);i.addTask(t),E(i.getName())}))})();