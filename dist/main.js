(()=>{"use strict";class e{constructor(e,t,s,n){this.name=e,this.discription=t,this.dueDate=s,this.priority=n}setName(e){this.name=e}getName(){return this.name}setDiscription(e){this.discription=e}getDescription(){return this.discription}setDate(e){this.dueDate=e}getDate(){return this.dueDate}setPriority(e){this.priority=e}getPriority(){return this.priority}}class t{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}addTask(e){if(!this.tasks.find((t=>t.getName()===e.name)))return this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>t.name!==e))}setTasks(e){this.tasks=e}getTasks(){return this.tasks}getTask(e){return this.tasks.find((t=>t.getName()===e))}}const s=new class{constructor(){this.projects=[],this.projects.push(new t("Inbox")),this.projects.push(new t("Today")),this.projects.push(new t("This week"))}addProject(e){this.projects.find((t=>t.name===e))||this.projects.push(new t(e))}getProject(e){return this.projects.find((t=>t.getName()===e))}deleteProject(e){const t=this.projects.find((t=>t.getName()===e));this.projects.splice(this.projects.indexOf(t),1)}},n=document.getElementById("projects"),i=document.querySelector("#tasks"),r=document.getElementById("task-title"),o=document.getElementById("add-project-btn"),a=document.getElementById("add-project-text"),d=document.getElementById("add-task-btn"),c=document.getElementById("add-task-text"),l=document.getElementById("description-task-text");document.getElementById("due-date").valueAsDate=new Date;const m=document.getElementById("due-date"),u=document.getElementById("priority"),p=document.createElement("span");n.appendChild(p);const h=e=>{for(;e.hasChildNodes();)e.removeChild(e.firstChild)},g=()=>{h(n);for(let e in s.projects){let t=s.projects[e].getName(),i=document.createElement("div"),r=document.createElement("button"),o=document.createElement("button");r.setAttribute("id",t),o.setAttribute("id",t),i.className="project-list-container",r.className="project-btn",o.className="delete-project-btn",r.innerText=t,o.innerText="x",i.appendChild(r),["Inbox","This week","Today"].includes(t)||i.appendChild(o),n.appendChild(i)}const e=document.querySelectorAll(".project-btn");for(let t of e)t.addEventListener("click",k);const t=document.querySelectorAll(".delete-project-btn");for(let e of t)e.addEventListener("click",j)},k=e=>{let t=e.target.id;r.innerText=t,y(t)},j=e=>{let t=e.target.id;s.deleteProject(t),p.remove(),g()},y=e=>{h(i);let t=s.getProject(e);for(let e in t.getTasks()){let s=t.getTasks()[e].getName(),n=document.createElement("div");n.className="task-list-container";let r=document.createElement("button"),o=document.createElement("button");o.setAttribute("id",s),r.setAttribute("id",s),o.className="delete-task-button",r.className="task-btn",o.innerText="x",r.innerText=s,n.appendChild(r),n.appendChild(o),i.appendChild(n)}const n=document.querySelectorAll(".delete-task-button");for(let e of n)e.addEventListener("click",E);const r=document.querySelectorAll(".task-btn");for(let e of r)e.addEventListener("click",T)},E=e=>{let t=e.target.id;console.log(t);let n=s.getProject(r.innerText);n.deleteTask(t),y(n.getName())},T=e=>{let t=e.target.id,n=r.innerText,i=s.getProject(n).getTask(t),o=(i.getDescription(),i.getDate().toDateString(),i.getPriority());console.log(o)};g(),o.addEventListener("click",(()=>{s.addProject(a.value),p.remove(),g()})),d.addEventListener("click",(()=>{let t=new e;t.setName(c.value),t.setDiscription(l.value);let n=new Date(m.value);t.setDate(n),t.setPriority(u.value),console.log(r.innerText);let i=s.getProject(r.innerText);i.addTask(t),y(i.getName())}))})();