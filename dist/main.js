(()=>{"use strict";class e{constructor(e,t){this.name=e,this.dueDate=t}setName(e){this.name=e}getName(){return this.name}setDate(e){this.dueDate=e}getDate(){return this.dueDate}}class t{constructor(e){this.name=e,this.tasks=[]}setName(e){this.name=e}getName(){return this.name}addTask(e){if(!this.tasks.find((t=>t.getName()===e.name)))return this.tasks.push(e)}deleteTask(e){this.tasks=this.tasks.filter((t=>t.name!==e))}setTasks(e){this.tasks=e}getTasks(){return this.tasks}getTask(e){return this.tasks.find((t=>t.getName()===e))}}const s=new class{constructor(){this.projects=[],this.projects.push(new t("Inbox")),this.projects.push(new t("Today")),this.projects.push(new t("This week"))}addProject(e){this.projects.find((t=>t.name===e))||this.projects.push(new t(e))}getProject(e){return this.projects.find((t=>t.getName()===e))}deleteProject(e){const t=this.projects.find((t=>t.getName()===e));this.projects.splice(this.projects.indexOf(t),1)}},n=document.getElementById("projects"),a=document.querySelector("#tasks"),d=document.getElementById("task-title"),r=document.getElementById("add-project-btn"),c=document.getElementById("add-project-text"),o=document.getElementById("add-task-btn"),i=document.getElementById("add-task-text"),l=document.createElement("span");n.appendChild(l);const m=e=>{for(;e.hasChildNodes();)e.removeChild(e.firstChild)},u=()=>{m(n);for(let e in s.projects){let t=s.projects[e].getName(),a=document.createElement("div"),d=document.createElement("button"),r=document.createElement("button");d.setAttribute("id",t),r.setAttribute("id",t),d.className="project-btn",r.className="delete-project-btn",d.innerText=t,r.innerText="x",a.appendChild(d),a.appendChild(r),n.appendChild(a)}const e=document.querySelectorAll(".project-btn");for(let t of e)t.addEventListener("click",h);const t=document.querySelectorAll(".delete-project-btn");for(let e of t)e.addEventListener("click",p)},h=e=>{let t=e.target.id;d.innerText=t,g(t)},p=e=>{let t=e.target.id;s.deleteProject(t),l.remove(),u()},g=e=>{m(a);let t=s.getProject(e);for(let e in t.getTasks()){let s=t.getTasks()[e].getName(),n=document.createElement("div"),d=document.createElement("button"),r=document.createElement("button");r.setAttribute("id",s),d.setAttribute("id",s),r.className="delete-task-button",d.className="task-btn",r.innerText="x",d.innerText=s,n.appendChild(d),n.appendChild(r),a.appendChild(n)}const n=document.querySelectorAll(".delete-task-button");for(let e of n)e.addEventListener("click",k)},k=e=>{let t=e.target.id;console.log(t);let n=s.getProject(d.innerText);n.deleteTask(t),g(n.getName())};u(),r.addEventListener("click",(()=>{s.addProject(c.value),l.remove(),u()})),o.addEventListener("click",(()=>{let t=new e;t.setName(i.value),console.log(d.innerText);let n=s.getProject(d.innerText);n.addTask(t),g(n.getName())}))})();